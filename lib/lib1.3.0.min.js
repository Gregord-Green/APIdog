window.$={ajax:{init:function(){return new XMLHttpRequest},get:function(a){var c=$.ajax.init();c.open("GET",a.url,!0);c.onreadystatechange=function(){4===this.readyState&&(200===this.status?a.callback&&a.callback(a.json?$.JSON(this.responseText):this.responseText,this):a.fallback&&a.fallback(this.responseText,this))};c.send(null);return c},queryBuilder:function(a){var c=[],b;for(b in a)c.push(encodeURIComponent(b)+"="+encodeURIComponent(a[b]));return c.join("&")},post:function(a){a=a||{};params=a.params?$.ajax.queryBuilder(a.params):"";var c=$.ajax.init();c.open("POST",a.url,!0);c.onreadystatechange=function(){4===this.readyState&&200==this.status&&a.callback&&a.callback(a.json?$.JSON(this.responseText):this.responseText,this)};c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");c.send(params)}},elem:function(a){return document.querySelectorAll(a)},element:function(a){return"string"===typeof a?document.getElementById(a):a},isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)},isObject:function(a){return"[object Object]"===Object.prototype.toString.call(a)},each:function(a,c){if(a)if(a.length)Array.prototype.forEach.call(a,function(a,b){c(a,b)});else for(var b in a)a.hasOwnProperty(b)&&c(a[b],b)},elements:{create:function(a,c){var b=document.createElement(a),d,e;for(d in c)if(e=c[d],0===d.indexOf("on")&&"function"===typeof e)$.event.add(b,d.substring(2),e);else switch(d){case "innerHTML":case "html":b.innerHTML=e;break;case "append":$.isArray(e)||(e=[e]);if(e==[])continue;$.each(e,function(a,c){a&&b.appendChild(a)});break;default:b.setAttribute(d,e)}return b},remove:function(a){a&&(a.remove?a.remove():a.parentNode.removeChild(a))},append:function(a,c){for(var b=0,d=c.length;b<d;++b)c[b]&&a.appendChild(c[b]);return a},appendToBody:function(a){return document.getElementsByTagName("body")[0].appendChild(a)},getStyle:function(a){return"undefined"!==typeof window.getComputedStyle?getComputedStyle(a):a.currentStyle},getPosition:function(a){if(!a)return{};for(var c=a.offsetWidth,b=a.offsetHeight,d=a.clientWidth,e=a.clientHeight,f=0,g=0;a;)f+=a.offsetLeft,g+=a.offsetTop,a=a.offsetParent;return{top:g,left:f,width:c,height:b,clientWidth:d,clientHeight:e}},addClass:function(a,c){if(a){var b=!!a.classList;if($.isArray(a))for(var b=0,d=a.length;b<d;++b)$.elements.addClass(a[b],c);else{if(b)return a.classList.add(c),a;if($.elements.hasClass(a,c))return;a.className=$.trim((a.className+" "+c).replace(/\s+/g," "))}return a}},removeClass:function(a,c){if(a){if($.isArray(a))for(var b=0,d=a.length;b<d;++b)$.elements.removeClass(a[b],c);else a.classList?a.classList.remove(c):a.className=$.trim(a.className.replace(new RegExp("(^|\\s)"+c+"(\\s|$)","g"),"$1").replace(/\s+/g," "));return a}},hasClass:function(a,c){if(a)return a.classList&&a.classList.contains?a.classList.contains(c):$.inArray(c,a.className.split(" "))},triggerClass:function(a,c){return $.elements.toggleClass(a,c)},toggleClass:function(a,c){if(a){$.isArray(a)||(a=[a]);for(var b=0,d=a.length,e;b<d;++b)e=a[b],e.classList&&e.classList.toggle?e.classList.toggle(c):$.elements.hasClass(e,c)?$.elements.removeClass(e,c):$.elements.addClass(e,c);return a}},clearChild:function(a){for(var c=a.children,b=c.length-1;0<=b;--b)a.removeChild(c[b]);return a}},trim:function(a){return String.prototype.trim?a.trim():a.replace(/^\s+|\s+$/igm,"")},cookie:function(a,c,b){var d=function(a,b,c){var d=new Date;d.setDate(d.getDate()+c);b=escape(b)+(null==d?"":"; expires="+d.toUTCString());document.cookie=a+"="+b;return!0};if(void 0===c&&void 0===b){c=document.cookie.split("; ");b=function(a){var b=a.indexOf("="),c=a.slice(0,b);a=a.slice(b+1);return{name:c,value:a}};for(var e={},f=0,g=c.length;f<g;++f)d=b(c[f]),e[d.name]=d.value;return a?e[a]:e}return a&&(null==c||0>=b)?(d(a,"",-30),!0):d(a,c,b||30)},localStorage:function(a,c){if(!("localStorage"in window&&null!==window.localStorage&&a))return!1;var b=window.localStorage;if(void 0===c)try{return b.getItem(a)}catch(d){return null}else if(null===c)try{return b.removeItem(a),!0}catch(d){return!1}else try{return b.setItem(a,c),!0}catch(d){return!1}},event:{add:function(a,c,b){window.addEventListener?a.addEventListener(c,b):a.attachEvent?a.attachEvent("on"+c,b):a["on"+c]=b},remove:function(a,c,b){a.removeEventListener?a.removeEventListener(c,b):a.detachEvent?a.detachEvent("on"+c,b):a["on"+c]=null},cancel:function(a){a=a||window.event;if(!a)return!1;a=a.originalEvent||a;a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();a.cancelBubble=!0;return a.returnValue=!1}},JSON:function(a){if(JSON&&JSON.parse)return JSON.parse(a);try{return eval("("+a+")")}catch(c){return{}}},JSONString:function(a){return JSON&&JSON.stringify?JSON.stringify(a):null},getDate:function(a,c){var b=new Date(1E3*a),d=new Date,b=[b.getFullYear(),b.getMonth(),b.getDate(),b.getHours(),b.getMinutes(),b.getSeconds()],d=[d.getFullYear(),d.getMonth(),d.getDate(),d.getHours(),d.getMinutes(),d.getSeconds()],e=function(a){return 10<=a?a:"0"+a},f;if(b[0]==d[0]&&b[1]==d[1])if(b[2]==d[2]){if(2==c)return b[3]+":"+e(b[4]);f="сегодня "}else{if(0<b[2]-1&&b[1]==d[1]||0>=b[2]-1&&b[1]+1==d[1])f="вчера "}else f=b[2]+" "+"января|февраля|марта|апреля|мая|июня|июля|августа|сентября|октября|ноября|декабря".split(" ")[b[1]]+(b[0]!=d[0]?" "+e(b[0]):"");1==c&&(f+=" в "+b[3]+":"+e(b[4]));return f},toTime:function(a){var c=Math.floor(a%60),b=Math.floor(a/60%60);a=Math.floor(a/60/60%60);return(a?a+":":"")+(10<=b?b:"0"+b)+":"+(10<=c?c:"0"+c)},toData:function(a){if(0>=a)return"0 байт";for(var c,b=5;0<=b;b--)if(c=Math.round(a/Math.pow(1024,b)*10)/10,1<=c)return c+" "+["байт","КБ","МБ","ГБ","ТБ"][b];return null},textCase:function(a,c){a=Math.abs(a);return c[4<a%100&&20>a%100?2:[2,0,1,1,1,2][5>a%10?a%10:5]]},inArray:function(a,c,b){for(var d in c)if(c[d]==a)return b?d:!0;return b?-1:!1},php:{http_query_build:function(a){var c=[];for(current in a)c.push(current+"="+escape(a[current]));return c.join("&")}},browser:{msie:/msie/ig.test(navigator.userAgent),firefox:/firefox/ig.test(navigator.userAgent),opera:/opera/ig.test(navigator.userAgent)&&!/msie/ig.test(navigator.userAgent),chrome:/chrome/ig.test(navigator.userAgent)&&!/safari/ig.test(navigator.userAgent),safari:/safari/ig.test(navigator.userAgent)&&!/chrome/ig.test(navigator.userAgent),iphone:/iphone/ig.test(navigator.userAgent),mobile:/mobile/ig.test(navigator.userAgent)},url:{get:function(a){for(var c=window.location.search.replace(/^\?/igm,"").split("&"),b,d=0,e=c.length;d<e;++d)if(b=c[d].split("="),b[0]==a)return b.slice(1).join("");return null}}};$.e=$.elements.create;$.TextCase=$.textCase;$.php.in_array=$.inArray;$.getStyle=$.elements.getStyle;$.getPosition=$.elements.getPosition;window._libloaded=!0;window.onerror=function(a){return!1};